<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>编辑题目</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
</head>
<body class="container mt-4">
<h2>编辑题目</h2>
<form method="post" th:action="@{/questions/edit/{id}(id=${question.id})}" th:object="${question}">
    <div class="mb-3">
        <label class="form-label">题目内容</label>
        <textarea name="content" class="form-control" required th:text="${question.content}"></textarea>
    </div>

    <div class="mb-3">
        <label class="form-label">题型</label>
        <select name="type" class="form-select">
            <option value="SINGLE" th:selected="${question.type == 'SINGLE'}">单选题</option>
            <option value="MULTIPLE" th:selected="${question.type == 'MULTIPLE'}">多选题</option>
            <option value="FILL" th:selected="${question.type == 'FILL'}">填空题</option>
            <option value="SUBJECTIVE" th:selected="${question.type == 'SUBJECTIVE'}">主观题</option>
        </select>
    </div>

    <div class="mb-3">
        <label class="form-label">难度</label>
        <select name="difficulty" class="form-select">
            <option value="1" th:selected="${question.difficulty == 1}">简单</option>
            <option value="2" th:selected="${question.difficulty == 2}">中等</option>
            <option value="3" th:selected="${question.difficulty == 3}">较难</option>
            <option value="4" th:selected="${question.difficulty == 4}">困难</option>
            <option value="5" th:selected="${question.difficulty == 5}">极难</option>
        </select>
    </div>

    <div class="mb-3">
        <label class="form-label">答案</label>
        <input name="answer" class="form-control" th:value="${question.answer}" />
    </div>

    <div class="mb-3">
        <label class="form-label">选项</label>
        <input name="options" class="form-control" th:value="${question.options}" />
    </div>

    <div class="mb-3">
        <label class="form-label">科目</label>
        <select name="subjectId" class="form-select">
            <option value="">请选择科目</option>
            <option th:each="s : ${subjects}" 
                    th:value="${s.id}" 
                    th:text="${s.name}"
                    th:selected="${question.subjectId == s.id}"></option>
        </select>
    </div>

    <button type="submit" class="btn btn-success">保存</button>
    <a href="/questions" class="btn btn-secondary">取消</a>
</form>
</body>
</html>